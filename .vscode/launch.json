{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
    
        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal"
        },
        {
            "name": "Python: run_qa_original",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "args": [
                "--model_name_or_path",
                "bert-base-uncased",
                "--dataset_name",
                "squad",
                "--max_seq_length",
                "184",
                "--doc_stride",
                "128",
                "--output_dir",
                "/mnt/Data3/hanqiyan/rank_transformers/tmp/test-squad/",
            ]
        },
        {
            "name": "Python: mlm",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "1,2,3",
            },
            "args": [
                "--model_name_or_path",
                "roberta-base",
                "--dataset_name",
                "wikitext",
                "--dataset_config_name",
                "wikitext-2-raw-v1",
                "--num_train_epochs",
                "3",
                "--per_device_train_batch_size",
                "32",
                "--output_dir",
                "/mnt/Data3/hanqiyan/rank_transformers/tmp/test-mlm/",
                "--apply_exrank",
                "replace_last",
                "--lnv",
                "exrank_gx",
                "--spectral_norm",
                "True",
                "--exrank_nonlinear",
                "relu",
            ]
        },
        {
            "name": "Python: swag File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "1,2,3",
            },
            "args": [
                "--model_name_or_path",
                "roberta-base",
                "--dataset_name",
                "wikitext",
                "--dataset_config_name",
                "wikitext-2-raw-v1",
                "--num_train_epochs",
                "3",
                "--per_device_train_batch_size",
                "32",
                "--output_dir",
                "/mnt/Data3/hanqiyan/rank_transformers/tmp/test-mlm/",
                "--apply_exrank",
                "replace_last",
                "--lnv",
                "exrank_gx",
                "--spectral_norm",
                "True",
                "--exrank_nonlinear",
                "relu",
            ]
        },
        {
            "name": "Python: glue File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "args": [
                "--model_name_or_path",
                "bert-base-uncased",
                "--task_name",
                "stsb",
                "--learning_rate",
                "2e-5",
                "--num_train_epochs",
                "3",
                "--output_dir",
                "/mnt/Data3/hanqiyan/rank_transformers/tmp/debug_glue/stsb-",
                "--apply_exrank",
                "add_last_afterln",
                "--lnv",
                "origin",
                "--spectral_norm",
                "True",
                "--exrank_nonlinear",
                "relu",
                "--ifmask",
                "True",
                "--max_length",
                "128",
                "--input_dir",
                "/home/hanqiyan/transformers/examples/pytorch/text-classification/sts_dataset/datasets/stsbenchmark/",
                "--sts_task",
                "sts12",
            ]
        },
        {
            "name": "Python: vis_tools",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "args": [
                "--model_type",
                "bert-base-uncased",
                "--dataset_name",
                "cola",
                "--mode",
                "compare",
                "--lnv1",
                "origin",
                "--lnv2",
                "soft_expand",
                "--apply_exrank1",
                "replace_last",
                "--apply_exrank2",
                "replace_last",
                "--epoch",
                "200",
            ]
        },
        {
            "name": "Python: ner task",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "0,3",
            },
            "args": [
                "--model_name_or_path",
                "bert-base-uncased",
                "--dataset_name",
                "conll2003",
                "--return_entity_level_metrics",
                "--output_dir",
                "/mnt/Data3/hanqiyan/rank_transformers/tmp/debug_ner",
                "--lnv",
                "soft_expand",
                "--exrank_nonlinear",
                "relu",
                "--vis_step",
                "500",
                "--pad_to_max_length",
                "--spectral_norm",
                "True",
                "--apply_exrank",
                "add_last_beforeln",
                "--max_train_steps",
                "1000",
                "--ifmask",
                "False",
                "--seed",
                "2021"
            ]
        },
        {
            "name": "Python: run_qa",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "1,2",
            },
            "args": [
                "--model_name_or_path",
                "distilbert-base-uncased",
                "--dataset_name",
                "squad",
                "--per_device_train_batch_size",
                "12",
                "--do_train",
                "True",
                "--learning_rate",
                "3e-5",
                "--num_train_epochs",
                "2",
                "--max_seq_length",
                "184",
                "--doc_stride",
                "128",
                "--max_train_samples",
                "1000",
                "--max_eval_samples",
                "500",
                "--output_dir",
                "/mnt/Data3/hanqiyan/rank_transformers/tmp/debug_squad",
                "--lnv",
                "exrank_gx",
                "--exrank_nonlinear",
                "relu",
                "--vis_step",
                "20",
                "--pad_to_max_length",
                "--spectral_norm",
                "True",
                "--apply_exrank",
                "replace_last",
            ]
        }
    ]
}